Resources:
    - https://namastedev.com/learn/namaste-frontend-system-design

================================================================================
                        REACT INTERVIEW QUESTIONS
================================================================================

ğŸ“‹ QUESTIONS LIST:
------------------
1. Why is reducer a pure function?
2. How to add a className to children components dynamically?
3. What is RTK (Redux Toolkit) createSlice?
4. Does React use bubbling or capturing?
5. How to inject a script from a component to index.html in React?
6. When to use useLayoutEffect and useEffect?
7. Difference between Flexbox and Grid?
8. What is transition in CSS?
9. Performance optimization techniques in React?
10. Shallow copy vs Deep copy of Date and Function?

================================================================================

1. Why is reducer a pure function?

Ans: -

ok, so this is an example of reduxToolkit. so here all the async we r doing in homeApiSlice, but all the stateManagement we
 r doing in homeSLice, where we r not calling any fetch etc. means homeSlice is pureFunction ..

 Reducer mein sirf state ko update karo, kuch bhi bahar se touch mat karo (no console, no API, no
  localStorage)!

  | Pure Function Rule       | Reducer Example                                    |
  |--------------------------|----------------------------------------------------|
  | Same input â†’ Same output | state + action always produces same new state      |
  | No side effects          | No API calls, no logging, no DOM manipulation      |
  | No mutations             | Always return new object/array, never modify input |

--------------------------------------------------------------------------------

2. How to add a className to children components dynamically?

Example Scenario:
  <Comp>
    <button>Save</button>
    <button>close</button>
  </Comp>

  Inside the Comp component I want to add a class "border border-red" to these buttons

Ans: -
  const Comp = ({ children, className }) => {
    const updatedChildren = React.Children.map(children, child =>
      React.cloneElement(child, {
        className: `border border-red ${child.props.className}`
      })
    );

    return <div>{updatedChildren}</div>;
  };

  const Parent = () => {
    return (
      <Comp>
        <button>Save</button>
        <button>Close</button>
      </Comp>
    );
  };

--------------------------------------------------------------------------------

3. What is RTK (Redux Toolkit) createSlice?

Ans: -

reateSlice is a function from Redux Toolkit that simplifies Redux state management. Instead of writing action types,
  action creators, and reducers separately, createSlice combines them into one. It auto-generates action creators and
  types, and allows direct state mutation using Immer library behind the scenes. It reduces boilerplate code by 60-70%.


  import { createSlice } from '@reduxjs/toolkit';

  const counterSlice = createSlice({
    name: 'counter',                    // Used to generate action types
    initialState: { value: 0 },         // Initial state
    reducers: {
      increment: (state) => {
        state.value += 1;                // Looks like mutation, but it's safe!
      },
      decrement: (state) => {
        state.value -= 1;
      },
      addByAmount: (state, action) => {
        state.value += action.payload;
      }
    }
  });

  // Automatically generated!
  export const { increment, decrement, addByAmount } = counterSlice.actions;
  export default counterSlice.reducer;

  Same functionality, 60% less code than redux! ğŸ‰

--------------------------------------------------------------------------------

4. Does React use bubbling or capturing?

Ans: -
  When an event occurs, it goes through 3 phases:

  1. CAPTURING (top â†’ bottom)  â¬‡ï¸
  2. TARGET (the element itself) ğŸ¯
  3. BUBBLING (bottom â†’ top)  â¬†ï¸

  Visual Example:

          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   <div> (1)     â”‚  â† Capturing starts here
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚  â”‚ <div> (2) â”‚  â”‚  â† Goes down
          â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
          â”‚  â”‚ â”‚Button â”‚ â”‚  â”‚  â† Target reached
          â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â† Bubbling starts
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â† Bubbles up

  React uses BUBBLING by default.
  To use capturing: onClickCapture={handler}

--------------------------------------------------------------------------------

5. How to inject a script from a component to index.html in React?

Ans: -
  useEffect(() => {
    // Add gtag.js script
    const script1 = document.createElement('script');
    script1.src = `https://www.googletagmanager.com/gtag/js?id=${trackingId}`;
    script1.async = true;
    document.head.appendChild(script1);

    // Add initialization script
    const script2 = document.createElement('script');
    script2.innerHTML = `
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${trackingId}';
    `;
    document.head.appendChild(script2);

    // Cleanup
    return () => {
      document.head.removeChild(script1);
      document.head.removeChild(script2);
    };
  }, [trackingId]);

--------------------------------------------------------------------------------

6. When to use useLayoutEffect and useEffect?

Ans: -
  // âœ… DEFAULT: Use useEffect (99% of cases)
  useEffect(() => {
    // Runs AFTER paint
    // Non-blocking
    // Good for: data fetching, subscriptions, events
  }, [dependencies]);

  // âš ï¸ SPECIAL: Use useLayoutEffect (1% of cases)
  useLayoutEffect(() => {
    // Runs BEFORE paint
    // Blocking (can hurt performance)
    // Good for: DOM measurements, preventing flicker
  }, [dependencies]);

  Key Difference:
  - useEffect: Async, runs after browser paints
  - useLayoutEffect: Sync, runs before browser paints (can cause performance issues)

--------------------------------------------------------------------------------

7. Difference between Flexbox and Grid?

Ans: -

--------------------------------------------------------------------------------

8. What is transition in CSS?

Ans: -

--------------------------------------------------------------------------------

9. Performance optimization techniques in React?

Ans: -
  Heavy calculation? â†’ useMemo
  Passing function to child? â†’ useCallback
  Expensive component? â†’ React.memo
  Large app? â†’ Code splitting
  Long list (1000+ items)? â†’ Virtualization
  Route-based pages? â†’ React.lazy

--------------------------------------------------------------------------------

10. Shallow copy vs Deep copy of Date and Function?

Ans: - date string ho and function undefined ho jayega

const obj_a = {
  name: 'sdf',
  data: {
    age: 234
    birthDate: new Date(),
    getDetail: function(){
      console.log('hello')
    }
  },
  applyDate: new Date(),
  greet: function(){
    console.log('hello')
  }
}

const obj_b = JSON.parse(JSON.stringify(a))
--------------------------------------------------------------------------------
